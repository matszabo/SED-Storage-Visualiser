<!-- SPDX-License-Identifier: BSD-3-Clause -->

<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html"; charset="UTF-8">
    <head>
        <link rel="stylesheet" href="mystyle.css"/>
    </head>
    <body>
        
    
    <h1>Opal Logger</h1>
    <p>This site aims to collect information about capabilities of allegedly Opal compliant disks.<br>
    Information is gathered using <a href="https://github.com/crocs-muni/opal-toolset">a tool</a></p>
    <button onclick=refetchhDB()>(debugging) Clear local database</button>
    <button id="loginBut" onclick=showprompt()>Login</button>
    <button id="logoutBut" class="authorized" style="display: none;" onclick=logout()>Logout</button>
    <form class="modal" id="loginPrompt">
        <div class="modal-content">
            <h3>Login</h3>
            <p>username:</p>
            <input type="text" id="unameInput">
            <p>password:</p>
            <input type="password" id="pwdInput">
            <br>
            <button onclick=closePrompt()>Cancel</button>
            <button onclick=loginFromPrompt()>Login</button>
        </div>
    </form>
    <h2>List of devices</h2>
    <input type="search" id="searchDev" onblur=filterDevs()>
    <div id="devList"></div>

    <div name="addDevPrompt" style="display: none;" class="authorized">
        <h4>Add device:</h4>
        <input type="file" id="devFile"><br>
        <button onclick=addDevice()>Submit</button>
    </div>
    
    <h2>Filter</h2>
    <div class="tiles">
        <div class="tile">
            <div id="SSCbuttons">
                <h2>SSCs</h2>
            </div>
            <button class="authorized" id="addSSC" style="display: none;">Add SSC</button>
        </div>
        <div class="tile">
            <div class="tiles">
                <h2>Feature sets</h2>
                <div class="tile">
                    <h3>Mandatory</h3>
                    <div id="fSetManList"></div>                    
                </div>
                <div class="tile">
                    <h3>Optional</h3>
                    <div id="fSetOptList"></div>                    
                </div>
            </div>
        </div>
        <div class="tile">
            <div class="tiles">
                <h2>Feature sets supported by drives</h2>
                <div class="tile">
                    <h3>Mandatory</h3>
                    <div id="fSetManSupList"></div>                    
                </div>
                <div class="tile">
                    <h3>Optional</h3>
                    <div id="fSetOptSupList"></div>                    
                </div>
            </div>
        </div>
    </div>

    <h2>Legend</h2>
    <table>
        <thead>
            <tr>
                <th>Cell type</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="cellType">number</td>
                <td>The value should be compliant with selected SSC</td>
            </tr>
            <tr>
                <td class="redBg cellType">number/Missing</td>
                <td>The mandatory value doesn't match the required value by the SSC or wasn't found.</td>
            </tr>
            <tr>
                <td class="redBg cellType" style="background-color: lightcoral">number/Missing</td>
                <td>The optional value doesn't match the required value by the SSC or wasn't found.</td>
            </tr>
            <tr>
                <td class="cellType">number (number)</td>
                <td>The reported value may not be correct based on found clues. The "actual" value in brackets is suggested by this tool.</td>
            </tr>
            <tr>
                <td class="orBg cellType">Unknown</td>
                <td>Field with said value wasn't found because the entire category of data is missing (f.e. Discovery 1 or 2 missing)</td>
            </tr>
        </tbody>
    </table>

    <h3>Mandatory</h3>
    <table class="mainTab" id="manTab" style="white-space:nowrap" width="600px" cellspacing="2" cellpadding="4">
        <tbody id = "manFeatures">
        </tbody>
    </table>

    <h3>Optional</h3>

    <table class="mainTab" id="optTab" style="white-space:nowrap" width="600px" cellspacing="2" cellpadding="4">
        <tbody id = "optFeatures">
        </tbody>
    </table>
    </body>
    <script src="common.js"></script>
    <script src="index.js"></script>
    
</html>